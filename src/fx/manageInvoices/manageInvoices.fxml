<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.ComboBox?>

<VBox xmlns="http://javafx.com/javafx/25"
      xmlns:fx="http://javafx.com/fxml/1"
      stylesheets="@/fx/global.css"
      fx:controller="fx.manageInvoices.ManageInvoicesController"
      spacing="18"
      prefWidth="900.0"
      style="-fx-background-color: white;
             -fx-background-radius: 16;
             -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.16), 18, 0.2, 0, 4);">

    <padding>
        <Insets top="24" right="24" bottom="24" left="24"/>
    </padding>

    <children>

        <!-- Header -->
        <HBox spacing="8" alignment="CENTER_LEFT">
            <children>
                <Region prefWidth="4" maxWidth="4" prefHeight="26"
                        style="-fx-background-color: #4A90E2; -fx-background-radius: 999;"/>
                <VBox spacing="4">
                    <children>
                        <Label fx:id="label" text="Manage Invoices"
                               style="-fx-font-size: 20px;
                                      -fx-font-weight: bold;
                                      -fx-text-fill: #1C1C1E;"/>
                        <Label text="Manage invoices and their details."
                               style="-fx-font-size: 11px;
                                      -fx-text-fill: #6E6E73;"/>
                    </children>
                </VBox>
                          <Region HBox.hgrow="ALWAYS"/>

                <Button text="Back"
                        fx:id="backButton"
                        onAction="#onBack"
                        styleClass="back-btn"
                        />
            </children>
        </HBox>

        <Separator/>

        <!-- Toolbar -->
        <HBox spacing="8" alignment="CENTER_LEFT">
            <children>
                <Label text="Existing invoices"
                       style="-fx-font-size: 13px;
                              -fx-font-weight: bold;
                              -fx-text-fill: #1C1C1E;"/>

                <Region HBox.hgrow="ALWAYS"/>

                <Button text="Generate New Invoice"
                        fx:id="generateInvoiceButton"
                        onAction="#onGenerateInvoice"
                        style="-fx-background-color: #4A90E2;
                               -fx-text-fill: white;
                               -fx-font-size: 12px;
                               -fx-font-weight: bold;
                               -fx-background-radius: 999;
                               -fx-padding: 6 14 6 14;
                               -fx-cursor: hand;"/>
            </children>
        </HBox>
<!-- Search bar -->
                <HBox spacing="8" alignment="CENTER_LEFT">
            <children>
              <Label text="Account ID:"
                                       style="-fx-text-fill: #1C1C1E; -fx-font-size: 12px;"/>
                                <ComboBox fx:id="accountComboBox"
                                          promptText="Select account"
                                            prefWidth="300.0"
                                          style="-fx-background-radius: 6;
                                                 -fx-border-radius: 6;
                                                 -fx-border-color: #E1E3E6;
                                                 -fx-padding: 2 8 2 8;"/>

            </children>
        </HBox>

        

        <!-- Table -->
        <TableView fx:id="invoiceTable"
                   prefHeight="400.0"

                   style="-fx-background-insets: 0;">

            <columns>
                  <TableColumn fx:id="idColumn"
                             text="ID"
                             prefWidth="180.0"/>

                <TableColumn fx:id="accountIdColumn"
                             text="Account ID"
                             prefWidth="180.0"/>

                <TableColumn fx:id="accountTariffIdColumn"
                             text="Account Tariff ID"
                             prefWidth="180.0"/>
                       

                <TableColumn fx:id="subTotalColumn"
                             text="Subtotal"
                             prefWidth="180.0"/>

                <TableColumn fx:id="vatColumn"
                             text="VAT"
                             prefWidth="180.0"/>

                <TableColumn fx:id="totalColumn"
                             text="Total"
                             prefWidth="180.0"/>

                <TableColumn fx:id="statusColumn"
                             text="Status"
                             prefWidth="180.0"/>

                 <TableColumn fx:id="periodStartColumn"
                             text="Period Start"
                             prefWidth="180.0"/>

                <TableColumn fx:id="periodEndColumn"
                             text="Period End"
                             prefWidth="180.0"/>

            </columns>
        </TableView>

    </children>
</VBox>
